{"version":3,"file":"y-codemirror.cjs","sources":["../src/y-codemirror.js"],"sourcesContent":["/**\n * @module bindings/textarea\n */\n\nimport { createMutex } from 'lib0/mutex'\nimport * as math from 'lib0/math'\nimport * as Y from 'yjs'\nimport * as func from 'lib0/function'\nimport * as eventloop from 'lib0/eventloop'\nimport { Observable } from 'lib0/observable'\nimport * as diff from 'lib0/diff'\nimport CodeMirror from 'codemirror'\n\nexport const cmOrigin = 'y-codemirror'\n\n/**\n * @param {CodemirrorBinding} binding\n * @param {any} event\n */\nconst typeObserver = (binding, event) => {\n  binding._mux(() => {\n    const cmDoc = binding.cmDoc\n    const cm = cmDoc.getEditor()\n    // Normally the position is right-associated\n    // But when remote changes happen, it looks like the remote user is hijacking your position.\n    // Just for remote insertions, we make the collapsed cursor left-associated.\n    // If selection is not collapsed, we only make \"to\" left associated\n    let anchor = cm.indexFromPos(cm.getCursor('anchor'))\n    let head = cm.indexFromPos(cm.getCursor('head'))\n    const switchSel = head < anchor\n    // normalize selection so that anchor < head, switch back later\n    if (switchSel) {\n      const tmp = head\n      head = anchor\n      anchor = tmp\n    }\n    const performChange = () => {\n      const delta = event.delta\n      let index = 0\n      for (let i = 0; i < event.delta.length; i++) {\n        const d = delta[i]\n        if (d.retain) {\n          index += d.retain\n        } else if (d.insert) {\n          if (index < anchor || (anchor < head && index === anchor)) {\n            anchor += d.insert.length\n          }\n          if (index < head) {\n            head += d.insert.length\n          }\n          const pos = cmDoc.posFromIndex(index)\n          cmDoc.replaceRange(d.insert, pos, pos, cmOrigin)\n          index += d.insert.length\n        } else if (d.delete) {\n          if (index < anchor) {\n            anchor = math.max(anchor - d.delete, index)\n          }\n          if (index < head) {\n            head = math.max(head - d.delete, index)\n          }\n          const start = cmDoc.posFromIndex(index)\n          const end = cmDoc.posFromIndex(index + d.delete)\n          cmDoc.replaceRange('', start, end, cmOrigin)\n        }\n      }\n    }\n    // if possible, bundle the changes using cm.operation\n    if (cm) {\n      cm.operation(performChange)\n    } else {\n      performChange()\n    }\n    if (switchSel) {\n      const tmp = head\n      head = anchor\n      anchor = tmp\n    }\n    cm.setSelection(cm.posFromIndex(anchor), cm.posFromIndex(head), {\n      scroll: false\n    })\n  })\n}\n\n/**\n * @param {CodemirrorBinding} binding\n * @param {Array<any>} changes\n */\nconst targetObserver = (binding, changes) => {\n  binding._mux(() => {\n    binding.doc.transact(() => {\n      const hasPaste = binding.yUndoManager &&\n        changes.some((change) => change.origin === 'paste')\n      if (hasPaste) {\n        binding.yUndoManager.stopCapturing()\n      }\n\n      if (changes.length > 1) {\n        // If there are several consecutive changes, we can't reliably compute the positions anymore. See y-codemirror#11\n        // Instead, we will compute the diff and apply the changes\n        const d = diff.simpleDiffString(\n          binding.type.toString(),\n          binding.cmDoc.getValue()\n        )\n        binding.type.delete(d.index, d.remove)\n        binding.type.insert(d.index, d.insert)\n      } else {\n        const change = changes[0]\n        const start = binding.cmDoc.indexFromPos(change.from)\n        const delLen = change.removed.map((s) => s.length).reduce(math.add) +\n          change.removed.length - 1\n        if (delLen > 0) {\n          binding.type.delete(start, delLen)\n        }\n        if (change.text.length > 0) {\n          binding.type.insert(start, change.text.join('\\n'))\n        }\n      }\n\n      if (hasPaste) {\n        binding.yUndoManager.stopCapturing()\n      }\n    }, binding)\n  })\n  if (binding._pendingCursorEvent) {\n    binding._pendingCursorEvent = false\n    binding.emit('cursorActivity', [binding])\n  }\n}\n\nconst createRemoteCaret = (username, color) => {\n  const caret = document.createElement('span')\n  caret.classList.add('remote-caret')\n  caret.setAttribute('style', `border-color: ${color}`)\n  const userDiv = document.createElement('div')\n  userDiv.setAttribute('style', `background-color: ${color}`)\n  userDiv.insertBefore(document.createTextNode(username), null)\n  caret.insertBefore(userDiv, null)\n  setTimeout(() => {\n    caret.classList.add('hide-name')\n  }, 2000)\n  return caret\n}\n\nconst createEmptyLinePlaceholder = (color) => {\n  const placeholder = document.createElement('span')\n  placeholder.setAttribute('style', 'user-select: none;')\n  const emptyTxt = document.createElement('span')\n  emptyTxt.insertBefore(document.createTextNode(''), null)\n  const sel = document.createElement('span')\n  sel.setAttribute('class', 'y-line-selection')\n  sel.setAttribute(\n    'style',\n    `display: inline-block; position: absolute; left: 4px; right: 4px; top: 0; bottom: 0; background-color: ${color}70`\n  )\n  placeholder.insertBefore(sel, null)\n  placeholder.insertBefore(emptyTxt, null)\n  return placeholder\n}\n\nconst updateRemoteSelection = (y, cm, type, cursors, clientId, awareness) => {\n  // redraw caret and selection for clientId\n  const aw = awareness.getStates().get(clientId)\n  // destroy current text mark\n  const m = cursors.get(clientId)\n  if (m !== undefined) {\n    if (m.caret) {\n      m.caret.clear()\n    }\n    m.sel.forEach((sel) => sel.clear())\n    cursors.delete(clientId)\n  }\n  if (aw === undefined) {\n    return\n  }\n  const user = aw.user || {}\n  if (user.color == null) {\n    user.color = '#ffa500'\n  }\n  if (user.name == null) {\n    user.name = `User: ${clientId}`\n  }\n  const cursor = aw.cursor\n  if (cursor == null || cursor.anchor == null || cursor.head == null) {\n    return\n  }\n  const anchor = Y.createAbsolutePositionFromRelativePosition(\n    JSON.parse(cursor.anchor),\n    y\n  )\n  const head = Y.createAbsolutePositionFromRelativePosition(\n    JSON.parse(cursor.head),\n    y\n  )\n  if (\n    anchor !== null && head !== null && anchor.type === type &&\n    head.type === type\n  ) {\n    if(head.index === 0 && anchor.index === 0)  {\n      return\n    }\n    const headpos = cm.posFromIndex(head.index)\n    const anchorpos = cm.posFromIndex(anchor.index)\n    let from, to\n    if (head.index < anchor.index) {\n      from = headpos\n      to = anchorpos\n    } else {\n      from = anchorpos\n      to = headpos\n    }\n    const caretEl = createRemoteCaret(user.name, user.color)\n    // if position was \"relatively\" the same, do not show name again and hide instead\n    if (\n      m && func.equalityFlat(aw.cursor.anchor, m.awCursor.anchor) &&\n      func.equalityFlat(aw.cursor.head, m.awCursor.head)\n    ) {\n      caretEl.classList.add('hide-name')\n    }\n    const sel = []\n\n    if (head.index !== anchor.index) {\n      if (from.line !== to.line && from.ch !== 0) {\n        // start of selection will only be a simple text-selection\n        sel.push(\n          cm.markText(from, new CodeMirror.Pos(from.line + 1, 0), {\n            css: `background-color: ${user.color}70;`,\n            inclusiveRight: false,\n            inclusiveLeft: false\n          })\n        )\n        from = new CodeMirror.Pos(from.line + 1, 0)\n      }\n      while (from.line !== to.line) {\n        // middle of selection is always a whole-line selection. We add a widget at the first position which will fill the background.\n        sel.push(\n          cm.setBookmark(new CodeMirror.Pos(from.line, 0), {\n            widget: createEmptyLinePlaceholder(user.color)\n          })\n        )\n        from = new CodeMirror.Pos(from.line + 1, 0)\n      }\n      sel.push(\n        cm.markText(from, to, {\n          css: `background-color: ${user.color}70;`,\n          inclusiveRight: false,\n          inclusiveLeft: false\n        })\n      )\n    }\n    // only render caret if not the complete last line was selected (in this case headpos.ch === 0)\n    const caret = sel.length > 0 && to === headpos && headpos.ch === 0\n      ? null\n      : cm.setBookmark(headpos, { widget: caretEl, insertLeft: true })\n    cursors.set(clientId, { caret, sel, awCursor: cursor })\n  }\n}\n\nconst codemirrorCursorActivity = (y, cm, type, awareness) => {\n  const aw = awareness.getLocalState()\n  if (\n    aw == null || !cm.display.wrapper.ownerDocument.hasFocus()\n  ) {\n    return\n  }\n  const newAnchor = Y.createRelativePositionFromTypeIndex(\n    type,\n    cm.indexFromPos(cm.getCursor('anchor'))\n  )\n  const newHead = Y.createRelativePositionFromTypeIndex(\n    type,\n    cm.indexFromPos(cm.getCursor('head'))\n  )\n  let currentAnchor = null\n  let currentHead = null\n  if (aw.cursor != null) {\n    currentAnchor = Y.createRelativePositionFromJSON(\n      JSON.parse(aw.cursor.anchor)\n    )\n    currentHead = Y.createRelativePositionFromJSON(JSON.parse(aw.cursor.head))\n  }\n  if (\n    aw.cursor == null ||\n    !Y.compareRelativePositions(currentAnchor, newAnchor) ||\n    !Y.compareRelativePositions(currentHead, newHead)\n  ) {\n    awareness.setLocalStateField('cursor', {\n      anchor: JSON.stringify(newAnchor),\n      head: JSON.stringify(newHead)\n    })\n  }\n}\n\n/**\n * A binding that binds a YText to a CodeMirror editor.\n *\n * @example\n *   const ytext = ydocument.define('codemirror', Y.Text)\n *   const editor = new CodeMirror(document.querySelector('#container'), {\n *     mode: 'javascript',\n *     lineNumbers: true\n *   })\n *   const binding = new CodemirrorBinding(ytext, editor)\n */\nexport class CodemirrorBinding extends Observable {\n  /**\n   * @param {Y.Text} textType\n   * @param {import('codemirror').Editor} codeMirror\n   * @param {any | null} [awareness]\n   * @param {{ yUndoManager?: Y.UndoManager }} [options]\n   */\n  constructor (\n    textType,\n    codeMirror,\n    awareness = null,\n    { yUndoManager = null } = {}\n  ) {\n    super()\n    const doc = textType.doc\n    const cmDoc = codeMirror.getDoc()\n    this.doc = doc\n    this.type = textType\n    this.cm = codeMirror\n    this.cmDoc = cmDoc\n    this.awareness = awareness || null\n    this.yUndoManager = yUndoManager\n    this._onStackItemAdded = ({ stackItem, changedParentTypes }) => {\n      // only store metadata if this type was affected\n      if (changedParentTypes.has(textType) && this._beforeChangeSelection) {\n        stackItem.meta.set(this, this._beforeChangeSelection)\n      }\n    }\n    this._onStackItemPopped = ({ stackItem }) => {\n      const sel = stackItem.meta.get(this)\n      if (sel) {\n        const anchor =\n          Y.createAbsolutePositionFromRelativePosition(sel.anchor, doc).index\n        const head =\n          Y.createAbsolutePositionFromRelativePosition(sel.head, doc).index\n        codeMirror.setSelection(\n          codeMirror.posFromIndex(anchor),\n          codeMirror.posFromIndex(head)\n        )\n        this._beforeChange()\n      }\n    }\n    if (yUndoManager) {\n      yUndoManager.trackedOrigins.add(this) // track changes performed by this editor binding\n      const editorUndo = (cm) => {\n        // Keymaps always start with an active operation.\n        // End the current operation so that the event is fired at the correct moment.\n        // @todo check cm.curOp in typeListener and endOperation always.\n        cm.endOperation()\n        yUndoManager.undo()\n        cm.startOperation()\n      }\n      const editorRedo = (cm) => {\n        cm.endOperation()\n        yUndoManager.redo()\n        cm.startOperation()\n      }\n      codeMirror.addKeyMap({\n        // pc\n        'Ctrl-Z': editorUndo,\n        'Shift-Ctrl-Z': editorRedo,\n        'Ctrl-Y': editorRedo,\n        // mac\n        'Cmd-Z': editorUndo,\n        'Shift-Cmd-Z': editorRedo,\n        'Cmd-Y': editorRedo\n      })\n\n      yUndoManager.on('stack-item-added', this._onStackItemAdded)\n      yUndoManager.on('stack-item-popped', this._onStackItemPopped)\n    }\n\n    this._mux = createMutex()\n    // set initial value\n    cmDoc.setValue(textType.toString())\n    // observe type and target\n    this._typeObserver = (event) => typeObserver(this, event)\n    this._targetObserver = (instance, changes) => {\n      if (instance.getDoc() === cmDoc) {\n        targetObserver(this, changes)\n      }\n    }\n    this._cursors = new Map()\n    this._changedCursors = new Set()\n    this._debounceCursorEvent = eventloop.createDebouncer(10)\n    this._awarenessListener = (event) => {\n      if (codeMirror.getDoc() !== cmDoc) {\n        return\n      }\n      const f = (clientId) => {\n        if (clientId !== doc.clientID) {\n          this._changedCursors.add(clientId)\n        }\n      }\n      event.added.forEach(f)\n      event.removed.forEach(f)\n      event.updated.forEach(f)\n      if (this._changedCursors.size > 0) {\n        this._debounceCursorEvent(() => {\n          this._changedCursors.forEach((clientId) => {\n            updateRemoteSelection(\n              doc,\n              codeMirror,\n              textType,\n              this._cursors,\n              clientId,\n              awareness\n            )\n          })\n          this._changedCursors.clear()\n        })\n      }\n    }\n    this._pendingCursorEvent = false\n    this._cursorListener = () => {\n      if (codeMirror.getDoc() === cmDoc) {\n        this._pendingCursorEvent = true\n        setTimeout(() => {\n          if (this._pendingCursorEvent) {\n            this._pendingCursorEvent = false\n            this.emit('cursorActivity', [codeMirror])\n          }\n        }, 0)\n      }\n    }\n    this.on('cursorActivity', () => {\n      codemirrorCursorActivity(doc, codeMirror, textType, awareness)\n    })\n    this._blurListeer = () => awareness.setLocalStateField('cursor', null)\n\n    textType.observe(this._typeObserver)\n    // @ts-ignore\n    codeMirror.on('changes', this._targetObserver)\n    /**\n     * @type {{ anchor: Y.RelativePosition, head: Y.RelativePosition } | null}\n     */\n    this._beforeChangeSelection = null\n    this._beforeChange = () => {\n      // update the the beforeChangeSelection that is stored befor each change to the editor (except when applying remote changes)\n      this._mux(() => {\n        // store the selection before the change is applied so we can restore it with the undo manager.\n        const anchor = Y.createRelativePositionFromTypeIndex(\n          textType,\n          codeMirror.indexFromPos(codeMirror.getCursor('anchor'))\n        )\n        const head = Y.createRelativePositionFromTypeIndex(\n          textType,\n          codeMirror.indexFromPos(codeMirror.getCursor('head'))\n        )\n        this._beforeChangeSelection = { anchor, head }\n      })\n    }\n    codeMirror.on('beforeChange', this._beforeChange)\n    if (awareness) {\n      codeMirror.on('swapDoc', this._blurListeer)\n      awareness.on('change', this._awarenessListener)\n      // @ts-ignore\n      codeMirror.on('cursorActivity', this._cursorListener)\n      codeMirror.on('blur', this._blurListeer)\n      codeMirror.on('focus', this._cursorListener)\n    }\n  }\n\n  destroy () {\n    this.type.unobserve(this._typeObserver)\n    this.cm.off('swapDoc', this._blurListeer)\n    // @ts-ignore\n    this.cm.off('changes', this._targetObserver)\n    this.cm.off('beforeChange', this._beforeChange)\n    // @ts-ignore\n    this.cm.off('cursorActivity', this._cursorListener)\n    this.cm.off('focus', this._cursorListener)\n    this.cm.off('blur', this._blurListeer)\n    if (this.awareness) {\n      this.awareness.off('change', this._awarenessListener)\n    }\n    if (this.yUndoManager) {\n      this.yUndoManager.off('stack-item-added', this._onStackItemAdded)\n      this.yUndoManager.off('stack-item-popped', this._onStackItemPopped)\n      this.yUndoManager.trackedOrigins.delete(this)\n    }\n    this.type = null\n    this.cm = null\n    this.cmDoc = null\n    super.destroy()\n  }\n}\n\nexport const CodeMirrorBinding = CodemirrorBinding\n"],"names":["math","diff","Y","func","CodeMirror","Observable","createMutex","eventloop"],"mappings":"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"}